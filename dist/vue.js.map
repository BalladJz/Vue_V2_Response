{"version":3,"file":"vue.js","sources":["../src/index.js"],"sourcesContent":["function Vue(options) {\n  // // const vm = this\n  this.$options = options\n\n  // 代理options.data\n  // options.data可能是函数，也可能是一个对象\n  this._data =\n    typeof options.data === 'function' ? options.data() : options.data\n\n  // 实现数据的响应式（双向绑定）\n  // Object.keys(this._data).forEach((key) => {\n  //   let val = undefined\n  //   let cb = undefined\n  //   Object.defineProperty(this._data, key, {\n  //     get() {\n  //       console.log('get => 获取数据', val)\n  //       return val\n  //     },\n  //     set(value) {\n  //       console.log('set => 更新数据', value)\n  //       val = value\n  //       cb ? cb(val) : null\n  //     },\n  //   })\n  // })\n  observe(this._data)\n\n  // 定义 代理的方法\n  // 将Vue实例上的操作，代理到Vue._data上\n  // Object.keys(this._data).forEach((key) => {\n  //   Object.defineProperty(this, key, {\n  //     get() {\n  //       return this._data[key]\n  //     },\n  //     set(value) {\n  //       this._data[key] = value\n  //     },\n  //   })\n  // })\n\n  _proxy.call(this, this._data)\n}\n\n// 定义代理的方法\nfunction _proxy(data) {\n  Object.keys(data).forEach((key) => {\n    Object.defineProperty(this, key, {\n      get() {\n        return this._data[key]\n      },\n      set(value) {\n        this._data[key] = value\n      },\n    })\n  })\n}\n\n// 定义响应式数据\nfunction observe(value, cb) {\n  Object.keys(value).forEach((key) => {\n    defineReactive(value, key, value[key], cb)\n  })\n}\n\nfunction defineReactive(obj, key, val, cb) {\n  Object.defineProperty(obj, key, {\n    get: () => {\n      console.log('get => 获取数据', val)\n      return val\n    },\n    set: (value) => {\n      console.log('set => 更新数据', value)\n      val = value\n      cb ? cb(value) : null\n    },\n  })\n}\n\nexport default Vue\n"],"names":["Vue","options","$options","_data","data","observe","_proxy","call","Object","keys","forEach","key","defineProperty","get","set","value","cb","defineReactive","obj","val","console","log"],"mappings":";;;;;;EAAA,SAASA,GAAGA,CAACC,OAAO,EAAE;EACpB;IACA,IAAI,CAACC,QAAQ,GAAGD,OAAO,CAAA;;EAEvB;EACA;EACA,EAAA,IAAI,CAACE,KAAK,GACR,OAAOF,OAAO,CAACG,IAAI,KAAK,UAAU,GAAGH,OAAO,CAACG,IAAI,EAAE,GAAGH,OAAO,CAACG,IAAI,CAAA;;EAEpE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,EAAAA,OAAO,CAAC,IAAI,CAACF,KAAK,CAAC,CAAA;;EAEnB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;IAEAG,MAAM,CAACC,IAAI,CAAC,IAAI,EAAE,IAAI,CAACJ,KAAK,CAAC,CAAA;EAC/B,CAAA;;EAEA;EACA,SAASG,MAAMA,CAACF,IAAI,EAAE;IACpBI,MAAM,CAACC,IAAI,CAACL,IAAI,CAAC,CAACM,OAAO,CAAEC,GAAG,IAAK;EACjCH,IAAAA,MAAM,CAACI,cAAc,CAAC,IAAI,EAAED,GAAG,EAAE;EAC/BE,MAAAA,GAAGA,GAAG;EACJ,QAAA,OAAO,IAAI,CAACV,KAAK,CAACQ,GAAG,CAAC,CAAA;SACvB;QACDG,GAAGA,CAACC,KAAK,EAAE;EACT,QAAA,IAAI,CAACZ,KAAK,CAACQ,GAAG,CAAC,GAAGI,KAAK,CAAA;EACzB,OAAA;EACF,KAAC,CAAC,CAAA;EACJ,GAAC,CAAC,CAAA;EACJ,CAAA;;EAEA;EACA,SAASV,OAAOA,CAACU,KAAK,EAAEC,EAAE,EAAE;IAC1BR,MAAM,CAACC,IAAI,CAACM,KAAK,CAAC,CAACL,OAAO,CAAEC,GAAG,IAAK;MAClCM,cAAc,CAACF,KAAK,EAAEJ,GAAG,EAAEI,KAAK,CAACJ,GAAG,CAAC,EAAEK,EAAE,CAAC,CAAA;EAC5C,GAAC,CAAC,CAAA;EACJ,CAAA;EAEA,SAASC,cAAcA,CAACC,GAAG,EAAEP,GAAG,EAAEQ,GAAG,EAAEH,EAAE,EAAE;EACzCR,EAAAA,MAAM,CAACI,cAAc,CAACM,GAAG,EAAEP,GAAG,EAAE;MAC9BE,GAAG,EAAEA,MAAM;EACTO,MAAAA,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEF,GAAG,CAAC,CAAA;EAC/B,MAAA,OAAOA,GAAG,CAAA;OACX;MACDL,GAAG,EAAGC,KAAK,IAAK;EACdK,MAAAA,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEN,KAAK,CAAC,CAAA;EACjCI,MAAAA,GAAG,GAAGJ,KAAK,CAAA;EACXC,MAAAA,EAAE,GAAGA,EAAE,CAACD,KAAK,CAAC,GAAG,IAAI,CAAA;EACvB,KAAA;EACF,GAAC,CAAC,CAAA;EACJ;;;;;;;;"}